{% comment %}
	Element Contact Form
	Accepts:
	- args: obj settings
{% endcomment %}
{% liquid
	assign style_form = args.settings.nl_style_form
	assign enable_terms = args.settings.nl_enable_terms
	assign size_input = args.settings.nl_size_input
	assign content_alignment = args.settings.nl_alignment
	assign success_message = 'newsletter.success_message' | t
	assign max_width = args.settings.nl_max_width
	assign color_input = args.settings.nl_color_input
	assign background_input = args.settings.nl_background_input
	assign color_border = args.settings.nl_color_border
	assign border_focus = args.settings.nl_color_border_focus
	assign color_placeholder = args.settings.nl_color_placeholder
	assign form_id = 'newsletter-' | append: args.id
%}
<div
	class="gsp-element gsp-newsletter gsp-newsletter-{{ args.id }} gsp-newsletter-style-{{ style_form }} text-{{ content_alignment }}">
	{% form 'customer', class: "gsp-newsletter-form d-inline-block w-100", id: form_id, data-show-terms: enable_terms %}
		<div class="gsp-newsletter-field {%- if style_form == "01" %} input-group {% endif %} position-relative">
			<input class="form-control {% if size_input != "default" %} form-control-{{ size_input }} {% endif %}"
				   type="email" name="contact[email]"
				   aria-required="true"
				   autocorrect="off"
				   required
				   autocapitalize="off"
				{% if form.errors %}
					autofocus
					aria-invalid="true"
					aria-describedby="Newsletter-error--{{ section.id }}"
				{% elsif form.posted_successfully? %}
					aria-describedby="Newsletter-success--{{ section.id }}"
				{% endif %}
				   placeholder="{{ 'newsletter.label' | t }}"
				   value="{{ form.email }}">
			{%- if style_form == "01" or style_form == "03" %}
				<button type="submit" {% if enable_terms %} data-terms-action disabled{% endif %}
						class="gsp-newsletter-submit btn btn-dark btn-hover-bg-primary btn-hover-border-primary z-index-5 {%- if style_form == "03" %} w-100 mt-3 {% endif -%} {% if size_input != "default" %} btn-{{ size_input }} {% endif %}">
					{{ 'newsletter.button_label' | t }}
				</button>
			{% endif -%}
			{%- if style_form == "02" %}
				<button type="submit" {% if enable_terms %} data-terms-action disabled{% endif %}
						class="gsp-newsletter-submit btn btn-link ms-0 position-absolute end-0 top-0 fs-24px h-100 ps-2 pe-3 z-index-5 lh-1 {% if size_input != "default" %} btn-{{ size_input }} {% endif %}">
					<span class="fs-0">{{ 'newsletter.button_label' | t }}</span>
					{% render 'icons', icon: 'arrow-right-long' %}
				</button>
			{% endif -%}
		</div>
		{% render 'form__success', form: form, success_message: success_message, extended_css: "p-2 mt-3 mb-0" %}
		{% render 'form__error', form: form, extended_css: "p-2 mt-3 mb-0" %}
		{%- if enable_terms %}
			<div
				class="form-check gsp-newsletter-terms d-flex align-items-center mb-0 justify-content-{{ content_alignment }}">
				<input name="agree_terms" class="form-check-input mt-0" type="checkbox" value=""
					   id="gsp-agree-gdpr-{{ args.id }}">
				<label class="form-check-label ms-2" for="gsp-agree-gdpr-{{ args.id }}">
					{{ settings.gdpr_agree_text }}
				</label>
			</div>
		{% endif -%}
	{% endform %}
</div>
{% style %}
	.gsp-newsletter-{{ args.id }}{
	{%- if color_input != blank and color_input != "rgba(0,0,0,0)" %}
		--gsp-form-field-color: {{ color_input }} !important;
	{% endif -%}
	{%- if background_input != blank and background_input != "rgba(0,0,0,0)" %}
		--gsp-form-field-bg: {{ background_input }} !important;
	{% endif -%}
	{%- if color_border != blank and color_border != "rgba(0,0,0,0)" %}
		--gsp-form-field-border-color: {{ color_border }} !important;
	{% endif -%}
	{%- if color_placeholder != blank and color_placeholder != "rgba(0,0,0,0)" %}
		--gsp-form-field-placeholder: {{ color_placeholder }} !important;
	{% endif -%}
	{%- if border_focus != blank and border_focus != "rgba(0,0,0,0)" %}
		--gsp-form-field-focus-border-color: {{ border_focus }} !important;
	{% endif -%}
	}
	{%- if max_width != blank and max_width != -1 %}
		.gsp-newsletter-{{ args.id }} .gsp-newsletter-form{
		max-width: {{ max_width }}px !important;
		}
	{% endif -%}
{% endstyle %}